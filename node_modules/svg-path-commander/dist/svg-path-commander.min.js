// SVGPathCommander v0.1.4 | thednp Â© 2021 | MIT-License
!function(t,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r():"function"==typeof define&&define.amd?define(r):(t="undefined"!=typeof globalThis?globalThis:t||self).SVGPathCommander=r()}(this,(function(){"use strict";var t={origin:null,decimals:4,round:1},r=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];return this.setIdentity(),t&&t.length&&this.setMatrixValue(t)},e={isIdentity:{configurable:!0},is2D:{configurable:!0}};e.isIdentity.get=function(){var t=this;return 1===t.m11&&0===t.m12&&0===t.m13&&0===t.m14&&0===t.m21&&1===t.m22&&0===t.m23&&0===t.m24&&0===t.m31&&0===t.m32&&1===t.m33&&0===t.m34&&0===t.m41&&0===t.m42&&0===t.m43&&1===t.m44},e.isIdentity.set=function(t){this.isIdentity=t},e.is2D.get=function(){var t=this;return 0===t.m31&&0===t.m32&&1===t.m33&&0===t.m34&&0===t.m43&&1===t.m44},e.is2D.set=function(t){this.is2D=t},Object.defineProperties(r.prototype,e);var n=r.prototype;function a(t,e,n){var a=new r;return a.m41=t,a.e=t,a.m42=e,a.f=e,a.m43=n,a}function i(t,e,n){var a=new r,i=t*Math.PI/180,s=e*Math.PI/180,m=n*Math.PI/180,u=Math.cos(i),c=-Math.sin(i),o=Math.cos(s),h=-Math.sin(s),l=Math.cos(m),f=-Math.sin(m),p=o*l,y=-o*f;a.m11=p,a.a=p,a.m12=y,a.b=y,a.m13=h;var x=c*h*l+u*f;a.m21=x,a.c=x;var v=u*l-c*h*f;return a.m22=v,a.d=v,a.m23=-c*o,a.m31=c*f-u*h*l,a.m32=c*l+u*h*f,a.m33=u*o,a}function s(t,e,n,a){var i=new r,s=a*Math.PI/360,m=Math.sin(s),u=Math.cos(s),c=m*m,o=Math.sqrt(t*t+e*e+n*n),h=0,l=0,f=1;0!==o&&(h=t/o,l=e/o,f=n/o);var p=h*h,y=l*l,x=f*f,v=1-2*(y+x)*c;i.m11=v,i.a=v;var d=2*(t*e*c+n*m*u);i.m12=d,i.b=d,i.m13=2*(t*n*c-e*m*u);var M=2*(e*t*c-n*m*u);i.m21=M,i.c=M;var g=1-2*(x+p)*c;return i.m22=g,i.d=g,i.m23=2*(e*n*c+t*m*u),i.m31=2*(n*t*c+e*m*u),i.m32=2*(n*e*c-t*m*u),i.m33=1-2*(p+y)*c,i.m14=0,i.m24=0,i.m34=0,i.m41=0,i.e=0,i.m42=0,i.f=0,i.m43=0,i.m44=1,i}function m(t,e,n){var a=new r;return a.m11=t,a.a=t,a.m22=e,a.d=e,a.m33=n,a}function u(t){var e=t*Math.PI/180,n=new r,a=Math.tan(e);return n.m21=a,n.c=a,n}function c(t){var e=t*Math.PI/180,n=new r,a=Math.tan(e);return n.m12=a,n.b=a,n}function o(t,e){var n=e.m11*t.m11+e.m12*t.m21+e.m13*t.m31+e.m14*t.m41,a=e.m11*t.m12+e.m12*t.m22+e.m13*t.m32+e.m14*t.m42,i=e.m11*t.m13+e.m12*t.m23+e.m13*t.m33+e.m14*t.m43,s=e.m11*t.m14+e.m12*t.m24+e.m13*t.m34+e.m14*t.m44,m=e.m21*t.m11+e.m22*t.m21+e.m23*t.m31+e.m24*t.m41,u=e.m21*t.m12+e.m22*t.m22+e.m23*t.m32+e.m24*t.m42,c=e.m21*t.m13+e.m22*t.m23+e.m23*t.m33+e.m24*t.m43,o=e.m21*t.m14+e.m22*t.m24+e.m23*t.m34+e.m24*t.m44,h=e.m31*t.m11+e.m32*t.m21+e.m33*t.m31+e.m34*t.m41,l=e.m31*t.m12+e.m32*t.m22+e.m33*t.m32+e.m34*t.m42,f=e.m31*t.m13+e.m32*t.m23+e.m33*t.m33+e.m34*t.m43,p=e.m31*t.m14+e.m32*t.m24+e.m33*t.m34+e.m34*t.m44,y=e.m41*t.m11+e.m42*t.m21+e.m43*t.m31+e.m44*t.m41,x=e.m41*t.m12+e.m42*t.m22+e.m43*t.m32+e.m44*t.m42,v=e.m41*t.m13+e.m42*t.m23+e.m43*t.m33+e.m44*t.m43,d=e.m41*t.m14+e.m42*t.m24+e.m43*t.m34+e.m44*t.m44;return new r([n,m,h,y,a,u,l,x,i,c,f,v,s,o,p,d])}function h(t,r){var e=Array.from(r);if(16===e.length){var n=e[0],a=e[1],i=e[2],s=e[3],m=e[4],u=e[5],c=e[6],o=e[7],h=e[8],l=e[9],f=e[10],p=e[11],y=e[12],x=e[13],v=e[14],d=e[15];t.m11=n,t.a=n,t.m21=a,t.c=a,t.m31=i,t.m41=s,t.e=s,t.m12=m,t.b=m,t.m22=u,t.d=u,t.m32=c,t.m42=o,t.f=o,t.m13=h,t.m23=l,t.m33=f,t.m43=p,t.m14=y,t.m24=x,t.m34=v,t.m44=d}else{if(6!==e.length)throw new TypeError("CSSMatrix: expecting a 6/16 values Array");var M=e[0],g=e[1],A=e[2],w=e[3],b=e[4],C=e[5];t.m11=M,t.a=M,t.m12=g,t.b=g,t.m21=A,t.c=A,t.m22=w,t.d=w,t.m14=b,t.e=b,t.m24=C,t.f=C}return t}n.setMatrixValue=function(t){var e=this;if(!t||!t.length)return e;if(t.length&&"string"==typeof t[0]&&t[0].length){var n,a,i=String(t[0]).trim();if("none"===i)return e;if(n=i.slice(0,i.indexOf("(")),a=i.slice("matrix"===n?7:9,-1).split(",").map((function(t){return Math.abs(t)<1e-6?0:+t})),!([6,16].indexOf(a.length)>-1))throw new TypeError("CSSMatrix: expecting valid CSS matrix() / matrix3d() syntax");h(e,a)}else t[0]instanceof r?h(e,t[0].toArray()):Array.isArray(t[0])?h(e,t[0]):Array.isArray(t)&&h(e,t);return e},n.toString=function(){return(this.is2D?"matrix":"matrix3d")+"("+this.toArray(1).join(",")+")"},n.toArray=function(t){var r=this;return r.is2D?[r.a,r.b,r.c,r.d,r.e,r.f]:t?[r.m11,r.m12,r.m13,r.m14,r.m21,r.m22,r.m23,r.m24,r.m31,r.m32,r.m33,r.m34,r.m41,r.m42,r.m43,r.m44]:[r.m11,r.m21,r.m31,r.m41,r.m12,r.m22,r.m32,r.m42,r.m13,r.m23,r.m33,r.m43,r.m14,r.m24,r.m34,r.m44]},n.multiply=function(t){return o(this,t)},n.translate=function(t,r,e){var n=r,i=e;return null==i&&(i=0),null==n&&(n=0),o(this,a(t,n,i))},n.scale=function(t,r,e){var n=r,a=e;return null==n&&(n=t),null==a&&(a=t),o(this,m(t,n,a))},n.rotate=function(t,r,e){var n=t,a=r,s=e;return null==a&&(a=0),null==s&&(s=n,n=0),o(this,i(n,a,s))},n.rotateAxisAngle=function(t,r,e,n){if(4!==arguments.length)throw new TypeError("CSSMatrix: expecting 4 values");return o(this,s(t,r,e,n))},n.skewX=function(t){return o(this,u(t))},n.skewY=function(t){return o(this,c(t))},n.setIdentity=function(){return h(this,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])},n.transformPoint=function(t){var r=a(t.x,t.y,t.z);return r.m44=t.w||1,{x:(r=this.multiply(r)).m41,y:r.m42,z:r.m43,w:r.m44}},n.transform=function(t){var r=this,e=r.m11*t.x+r.m12*t.y+r.m13*t.z+r.m14*t.w,n=r.m21*t.x+r.m22*t.y+r.m23*t.z+r.m24*t.w,a=r.m31*t.x+r.m32*t.y+r.m33*t.z+r.m34*t.w,i=r.m41*t.x+r.m42*t.y+r.m43*t.z+r.m44*t.w;return{x:e/i,y:n/i,z:a/i,w:i}},r.Translate=a,r.Rotate=i,r.RotateAxisAngle=s,r.Scale=m,r.SkewX=u,r.SkewY=c,r.Multiply=o,r.fromMatrix=function(t){return new r([t.m11,t.m21,t.m31,t.m41,t.m12,t.m22,t.m32,t.m42,t.m13,t.m23,t.m33,t.m43,t.m14,t.m24,t.m34,t.m44])},r.fromArray=function(t){return h(new r,t)},r.feedFromArray=h;var l="undefined"!=typeof DOMMatrix?DOMMatrix:r;function f(t){return t.map((function(t){return Array.isArray(t)?f(t):Number.isNaN(+t)?t:+t}))}function p(r,e){var n=Number.isNaN(+e)?t.round&&t.decimals:+e;return n?r.map((function(t){return t.map((function(t){var r=+t,e=Math.pow(10,n);return r?r%1==0?r:Math.round(r*e)/e:t}))})):f(r)}function y(t,r,e){if(t[e].length>7){t[e].shift();for(var n=t[e],a=e;n.length;)r[e]="A",t.splice(a+=1,0,["C"].concat(n.splice(0,6)));t.splice(e,1)}}var x={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0};function v(t){return Array.isArray(t)&&t.every((function(t){var r=t[0].toLowerCase();return x[r]===t.length-1&&/[achlmrqstvz]/g.test(r)}))}function d(t){return v(t)&&t.slice(1).every((function(t){return"C"===t[0]}))}function M(t){var r=t.pathValue[t.segmentStart],e=r.toLowerCase(),n=t.data;if("m"===e&&n.length>2&&(t.segments.push([r,n[0],n[1]]),n=n.slice(2),e="l",r="m"===r?"l":"L"),"r"===e)t.segments.push([r].concat(n));else for(;n.length>=x[e]&&(t.segments.push([r].concat(n.splice(0,x[e]))),x[e]););}function g(t){var r=t.pathValue.charCodeAt(t.index);return 48===r?(t.param=0,void(t.index+=1)):49===r?(t.param=1,void(t.index+=1)):void(t.err="Invalid path value: invalid Arc flag "+r)}function A(t){return t>=48&&t<=57}function w(t){var r,e=t.index,n=t.max,a=e,i=!1,s=!1,m=!1,u=!1;if(a>=n)t.err="Invalid path value: missing param "+t.pathValue[a];else if(43!==(r=t.pathValue.charCodeAt(a))&&45!==r||(r=(a+=1)<n?t.pathValue.charCodeAt(a):0),A(r)||46===r){if(46!==r){if(i=48===r,r=(a+=1)<n?t.pathValue.charCodeAt(a):0,i&&a<n&&r&&A(r))return void(t.err="Invalid path value: "+t.pathValue[e]+" illegal number");for(;a<n&&A(t.pathValue.charCodeAt(a));)a+=1,s=!0;r=a<n?t.pathValue.charCodeAt(a):0}if(46===r){for(u=!0,a+=1;A(t.pathValue.charCodeAt(a));)a+=1,m=!0;r=a<n?t.pathValue.charCodeAt(a):0}if(101===r||69===r){if(u&&!s&&!m)return void(t.err="Invalid path value: "+t.pathValue[a]+" invalid float exponent");if(43!==(r=(a+=1)<n?t.pathValue.charCodeAt(a):0)&&45!==r||(a+=1),!(a<n&&A(t.pathValue.charCodeAt(a))))return void(t.err="Invalid path value: "+t.pathValue[a]+" invalid float exponent");for(;a<n&&A(t.pathValue.charCodeAt(a));)a+=1}t.index=a,t.param=+t.pathValue.slice(e,a)}else t.err="Invalid path value at index "+a+": "+t.pathValue[a]+" is not a number"}function b(t){for(;t.index<t.max&&(10===(r=t.pathValue.charCodeAt(t.index))||13===r||8232===r||8233===r||32===r||9===r||11===r||12===r||160===r||r>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(r)>=0);)t.index+=1;var r}function C(t){return t>=48&&t<=57||43===t||45===t||46===t}function q(t){var r=t.max,e=t.pathValue.charCodeAt(t.index),n=x[t.pathValue[t.index].toLowerCase()];if(t.segmentStart=t.index,function(t){switch(32|t){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:case 114:return!0;default:return!1}}(e))if(t.index+=1,b(t),t.data=[],n){for(;;){for(var a=n;a>0;a-=1){if(97!=(32|e)||3!==a&&4!==a?w(t):g(t),t.err.length)return;t.data.push(t.param),b(t),t.index<r&&44===t.pathValue.charCodeAt(t.index)&&(t.index+=1,b(t))}if(t.index>=t.max)break;if(!C(t.pathValue.charCodeAt(t.index)))break}M(t)}else M(t);else t.err="Invalid path value: "+t.pathValue[t.index]+" not a path command"}function V(t){return this.segments=[],this.pathValue=t,this.max=t.length,this.index=0,this.param=0,this.segmentStart=0,this.data=[],this.err="",this}function k(t,r){if(v(t))return f(t);var e=new V(t);for(b(e);e.index<e.max&&!e.err.length;)q(e);return e.err.length?e.segments=[]:e.segments.length&&("mM".indexOf(e.segments[0][0])<0?(e.err="Invalid path value: missing M/m",e.segments=[]):e.segments[0][0]="M"),p(e.segments,r)}function P(t){return v(t)&&t.every((function(t){return t[0]===t[0].toUpperCase()}))}function I(t,r){if(P(t))return f(t);var e=k(t,r),n=e.length,a=[],i=0,s=0,m=0,u=0,c=0;"M"===e[0][0]&&(m=i=+e[0][1],u=s=+e[0][2],c+=1,a.push(["M",i,s]));for(var o=c;o<n;o+=1){var h=e[o],l=h[0],y=l.toUpperCase(),x=[],v=[];if(a.push(x),l!==y)switch(x[0]=y,y){case"A":v=h.slice(1,-2).concat([+h[6]+i,+h[7]+s]);for(var d=0;d<v.length;d+=1)x.push(v[d]);break;case"V":x[1]=+h[1]+s;break;case"H":x[1]=+h[1]+i;break;default:"M"===y&&(m=+h[1]+i,u=+h[2]+s);for(var M=1;M<h.length;M+=1)x.push(+h[M]+(M%2?i:s))}else for(var g=0;g<h.length;g+=1)x.push(h[g]);var A=x.length;switch(y){case"Z":i=m,s=u;break;case"H":i=+x[1];break;case"V":s=+x[1];break;default:i=+x[A-2],s=+x[A-1],"M"===y&&(m=i,u=s)}}return p(a,r)}function S(t,r,e){var n=t[0],a=t.slice(1),i=t;if("TQ".indexOf(t[0])<0&&(r.qx=null,r.qy=null),"H"===n)i=["L",t[1],r.y1];else if("V"===n)i=["L",r.x1,t[1]];else if("S"===n){var s=function(t,r,e,n,a){return"CS".indexOf(a)>-1?{x1:2*t-e,y1:2*r-n}:{x1:t,y1:r}}(r.x1,r.y1,r.x2,r.y2,e),m=s.x1,u=s.y1;r.x1=m,r.y1=u,i=["C",m,u].concat(a)}else if("T"===n){var c=function(t,r,e,n,a){return"QT".indexOf(a)>-1?{qx:2*t-e,qy:2*r-n}:{qx:t,qy:r}}(r.x1,r.y1,r.qx,r.qy,e),o=c.qx,h=c.qy;r.qx=o,r.qy=h,i=["Q",o,h].concat(a)}else if("Q"===n){var l=a[0],f=a[1];r.qx=l,r.qy=f}return i}function N(t){return Array.isArray(t)&&t.every((function(t){var r=t[0].toLowerCase();return x[r]===t.length-1&&/[ACLMQZ]/.test(t[0])}))}function T(t,r){if(N(t))return f(t);for(var e,n,a=I(t,r),i={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null},s=[],m=a.length,u="",c=0;c<m;c+=1){var o=a[c][0];s[c]=o,c&&(u=s[c-1]),a[c]=S(a[c],i,u),n=(e=a[c]).length,i.x1=+e[n-2],i.y1=+e[n-1],i.x2=+e[n-4]||i.x1,i.y2=+e[n-3]||i.y1}return p(a,r)}function z(t,r,e){return{x:t*Math.cos(e)-r*Math.sin(e),y:t*Math.sin(e)+r*Math.cos(e)}}function L(t,r,e,n,a,i,s,m,u,c){var o,h,l,f,p,y=120*Math.PI/180,x=Math.PI/180*(a||0),v=[],d=t,M=m,g=r,A=u,w=e,b=n;if(c){h=c[0],l=c[1],f=c[2],p=c[3]}else{d=(o=z(d,g,-x)).x,g=o.y;var C=(d-(M=(o=z(M,A,-x)).x))/2,q=(g-(A=o.y))/2,V=C*C/(w*b)+Math.pow(q,2)/Math.pow(b,2);V>1&&(w*=V=Math.sqrt(V),b*=V);var k=Math.pow(w,2),P=Math.pow(b,2),I=(i===s?-1:1)*Math.sqrt(Math.abs((k*P-k*q*q-P*C*C)/(k*q*q+P*C*C)));f=I*w*q/b+(d+M)/2,p=I*-b*C/w+(g+A)/2,h=Math.asin(((g-p)/b*Math.pow(10,9)>>0)/Math.pow(10,9)),l=Math.asin(((A-p)/b*Math.pow(10,9)>>0)/Math.pow(10,9)),h=d<f?Math.PI-h:h,l=M<f?Math.PI-l:l,h<0&&(h=2*Math.PI+h),l<0&&(l=2*Math.PI+l),s&&h>l&&(h-=2*Math.PI),!s&&l>h&&(l-=2*Math.PI)}var S=l-h;if(Math.abs(S)>y){var N=l,T=M,O=A;l=h+y*(s&&l>h?1:-1),M=f+w*Math.cos(l),A=p+b*Math.sin(l),v=L(M,A,w,b,a,0,s,T,O,[l,N,f,p])}S=l-h;var D=Math.cos(h),j=Math.sin(h),Q=Math.cos(l),Z=Math.sin(l),E=Math.tan(S/4),H=4/3*w*E,X=4/3*b*E,R=[d,g],Y=[d+H*j,g-X*D],B=[M+H*Z,A-X*Q],G=[M,A];return Y[0]=2*R[0]-Y[0],Y[1]=2*R[1]-Y[1],c?[Y,B,G].concat(v):(v=[Y,B,G].concat(v).join().split(",")).map((function(t,r){return r%2?z(v[r-1],t,x).y:z(t,v[r+1],x).x}))}function O(t,r,e,n,a,i){return[1/3*t+2/3*e,1/3*r+2/3*n,1/3*a+2/3*e,1/3*i+2/3*n,a,i]}function D(t,r,e,n,a,i,s,m,u){var c=1-u;return{x:Math.pow(c,3)*t+c*c*3*u*e+3*c*u*u*a+Math.pow(u,3)*s,y:Math.pow(c,3)*r+c*c*3*u*n+3*c*u*u*i+Math.pow(u,3)*m}}function j(t,r,e){var n=t[0],a=t[1];return[n+(r[0]-n)*e,a+(r[1]-a)*e]}function Q(t,r,e,n){var a=.5,i=[t,r],s=[e,n],m=j(i,s,a),u=j(s,m,a),c=j(m,u,a),o=j(u,c,a),h=j(c,o,a),l=D.apply(0,i.concat(m,c,h,a)),f=D.apply(0,h.concat(o,u,s,0));return[l.x,l.y,f.x,f.y,e,n]}function Z(t,r){"TQ".indexOf(t[0])<0&&(r.qx=null,r.qy=null);var e=t.slice(1),n=e[0],a=e[1];switch(t[0]){case"M":return r.x=n,r.y=a,t;case"A":return["C"].concat(L.apply(0,[r.x1,r.y1].concat(t.slice(1))));case"Q":return r.qx=n,r.qy=a,["C"].concat(O.apply(0,[r.x1,r.y1].concat(t.slice(1))));case"L":return["C"].concat(Q(r.x1,r.y1,t[1],t[2]));case"Z":return["C"].concat(Q(r.x1,r.y1,r.x,r.y))}return t}function E(t,r){if(d(t))return f(t);for(var e,n,a=T(t,r),i={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null},s=[],m="",u=a.length,c=0;c<u;c+=1)a[c]&&(m=a[c][0]),s[c]=m,a[c]=Z(a[c],i),y(a,s,c),u=a.length,n=(e=a[c]).length,i.x1=+e[n-2],i.y1=+e[n-1],i.x2=+e[n-4]||i.x1,i.y2=+e[n-3]||i.y1;return p(a,r)}function H(t,r,e,n,a,i,s,m){return 3*((m-r)*(e+a)-(s-t)*(n+i)+n*(t-a)-e*(r-i)+m*(a+t/3)-s*(i+r/3))/20}function X(t,r){var e=0,n=0,a=0,i=0,s=0;return E(t,r).map((function(t){var r;switch(t[0]){case"M":case"Z":return a="M"===t[0]?t[1]:a,i="M"===t[0]?t[2]:i,e=a,n=i,0;default:return s=H.apply(0,[e,n].concat(t.slice(1))),r=t.slice(-2),e=r[0],n=r[1],s}})).reduce((function(t,r){return t+r}),0)}function R(t,r,e,n,a){return a*(a*(-3*t+9*r-9*e+3*n)+6*t-12*r+6*e)-3*t+3*r}function Y(t,r,e,n,a,i,s,m,u){var c;(null===u||Number.isNaN(+u))&&(c=1),c>1&&(c=1),c<0&&(c=0);var o=c/2,h=0,l=0,f=0,p=0,y=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472];return[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816].forEach((function(u,c){l=R(t,e,a,s,h=o*u+o),f=R(r,n,i,m,h),p+=y[c]*Math.sqrt(l*l+f*f)})),o*p}function B(t,r,e,n,a,i,s,m){var u,c=a-2*e+t-(s-2*a+e),o=2*(e-t)-2*(a-e),h=t-e,l=(-o+Math.sqrt(o*o-4*c*h))/2/c,f=(-o-Math.sqrt(o*o-4*c*h))/2/c,p=[r,m],y=[t,s];return Math.abs(l)>"1e12"&&(l=.5),Math.abs(f)>"1e12"&&(f=.5),l>0&&l<1&&(u=D(t,r,e,n,a,i,s,m,l),y.push(u.x),p.push(u.y)),f>0&&f<1&&(u=D(t,r,e,n,a,i,s,m,f),y.push(u.x),p.push(u.y)),c=i-2*n+r-(m-2*i+n),h=r-n,l=(-(o=2*(n-r)-2*(i-n))+Math.sqrt(o*o-4*c*h))/2/c,f=(-o-Math.sqrt(o*o-4*c*h))/2/c,Math.abs(l)>"1e12"&&(l=.5),Math.abs(f)>"1e12"&&(f=.5),l>0&&l<1&&(u=D(t,r,e,n,a,i,s,m,l),y.push(u.x),p.push(u.y)),f>0&&f<1&&(u=D(t,r,e,n,a,i,s,m,f),y.push(u.x),p.push(u.y)),{min:{x:Math.min.apply(0,y),y:Math.min.apply(0,p)},max:{x:Math.max.apply(0,y),y:Math.max.apply(0,p)}}}function G(t,r){if(!t)return{x:0,y:0,width:0,height:0,x2:0,y2:0};var e=E(t,r),n=0,a=0,i=[],s=[];e.forEach((function(t){var r=t.slice(-2),e=r[0],m=r[1];if("M"===t[0])n=e,a=m,i.push(e),s.push(m);else{var u=B.apply(0,[n,a].concat(t.slice(1)));i=i.concat(u.min.x,u.max.x),s=s.concat(u.min.y,u.max.y),n=e,a=m}}));var m=Math.min.apply(0,i),u=Math.min.apply(0,s),c=Math.max.apply(0,i),o=Math.max.apply(0,s),h=c-m,l=o-u;return{x:m,y:u,x2:c,y2:o,width:h,height:l,cx:m+h/2,cy:u+l/2}}function U(t){return v(t)&&t.slice(1).every((function(t){return t[0]===t[0].toLowerCase()}))}function F(t){return t.map((function(t){return t[0].concat(t.slice(1).join(" "))})).join("")}function $(t){return F(I(t,0)).replace(/(m|M)/g,"|$1").split("|").map((function(t){return t.trim()})).filter((function(t){return t}))}function J(t,r){if(U(t))return f(t);var e=k(t,r),n=e.length,a=[],i=0,s=0,m=0,u=0,c=0;"M"===e[0][0]&&(m=i=+e[0][1],u=s=+e[0][2],c+=1,a.push(["M",i,s]));for(var o=c;o<n;o+=1){var h=e[o],l=h[0],y=l.toLowerCase(),x=[],v=[];if(a.push(x),l!==y)switch(x[0]=y,y){case"a":v=h.slice(1,-2).concat([+h[6]-i,+h[7]-s]);for(var d=0;d<v.length;d+=1)x.push(v[d]);break;case"v":x[1]=+h[1]-s;break;default:for(var M=1;M<h.length;M+=1)x.push(+h[M]-(M%2?i:s));"m"===y&&(m=+h[1],u=+h[2])}else{"m"===l&&(m=+h[1]+i,u=+h[2]+s);for(var g=0;g<h.length;g+=1)x.push(h[g])}var A=x.length;switch(x[0]){case"z":i=m,s=u;break;case"h":i+=x[A-1];break;case"v":s+=x[A-1];break;default:i+=a[o][A-2],s+=a[o][A-1]}}return p(a,r)}function K(t,r){var e=I(t,r),n=J(t,r);return e.map((function(t,r){return r?t.join("").length<n[r].join("").length?t:n[r]:t}))}function W(t,r){var e=I(t,r),n="Z"===e.slice(-1)[0][0],a=[],i=0;return a=T(e,r).map((function(t,r){return i=t.length,{seg:e[r],n:t,c:e[r][0],x:t[i-2],y:t[i-1]}})).map((function(t,r,e){var a=t.seg,i=t.n,s=r&&e[r-1],m=e[r+1]&&e[r+1],u=t.c,c=e.length,o=r?e[r-1].x:e[c-1].x,h=r?e[r-1].y:e[c-1].y,l=[];switch(u){case"M":l=n?["Z"]:[u,o,h];break;case"A":l=a.slice(0,-3).concat([1===a[5]?0:1,o,h]);break;case"C":l=m&&"S"===m.c?["S",a[1],a[2],o,h]:[u,a[3],a[4],a[1],a[2],o,h];break;case"S":l=s&&"CS".indexOf(s.c)>-1&&(!m||m&&"S"!==m.c)?["C",i[3],i[4],i[1],i[2],o,h]:[u,i[1],i[2],o,h];break;case"Q":l=m&&"T"===m.c?["T",o,h]:a.slice(0,-2).concat([o,h]);break;case"T":l=s&&"QT".indexOf(s.c)>-1&&(!m||m&&"T"!==m.c)?["Q",i[1],i[2],o,h]:[u,o,h];break;case"Z":l=["M",o,h];break;case"H":l=[u,o];break;case"V":l=[u,h];break;default:l=a.slice(0,-2).concat([o,h])}return l})),n?a.reverse():[a[0]].concat(a.slice(1).reverse())}function _(t){var r=new l,e=t.origin,n=+e[0],a=+e[1],i=t.translate,s=t.rotate,m=t.skew,u=t.scale;return(!Number.isNaN(i)||Array.isArray(i)&&i.some((function(t){return 0!=+t})))&&(r=Array.isArray(i)?r.translate(+i[0]||0,+i[1]||0,+i[2]||0):r.translate(+i||0,0,0)),(s||m||u)&&(r=r.translate(+n,+a),s&&(r=Array.isArray(s)&&s.some((function(t){return 0!=+t}))?r.rotate(+s[0]||0,+s[1]||0,+s[2]||0):r.rotate(+s||0)),Array.isArray(m)&&m.some((function(t){return 0!=+t}))&&(Array.isArray(m)?(r=m[0]?r.skewX(+m[0]||0):r,r=m[1]?r.skewY(+m[1]||0):r):r=r.skewX(+m||0)),(!Number.isNaN(u)||Array.isArray(u)&&u.some((function(t){return 1!=+t})))&&(r=Array.isArray(u)?r.scale(+u[0]||1,+u[1]||1,+u[2]||1):r.scale(+u||1)),r=r.translate(-n,-a)),r}function tt(t,r,e){var n=t.transformPoint({x:r[0],y:r[1],z:0,w:1}),a=e[0]||0,i=e[1]||0,s=e[2]||0,m=n.x-a,u=n.y-i,c=n.z-s;return[m*(Math.abs(s)/Math.abs(c))+a,u*(Math.abs(s)/Math.abs(c))+i]}function rt(t,r,e){var n,a,i,s,m,u,c,o,h,l=I(t),x=T(l),v=_(r),d=Object.keys(r),M=r.origin,g=[v.a,v.b,v.c,v.d,v.e,v.f],A={x1:0,y1:0,x2:0,y2:0,x:0,y:0},w=[],b=0,C="",q=[],V=[],k=[];if(!v.isIdentity){for(i=0,m=l.length;i<m;i+=1)w=l[i],l[i]&&(C=w[0]),V[i]=C,"A"!==C||v.is2D&&["skewX","skewY"].find((function(t){return d.includes(t)}))||(w=Z(x[i],A),l[i]=Z(x[i],A),y(l,V,i),x[i]=Z(x[i],A),y(x,V,i),m=Math.max(l.length,x.length)),b=(w=x[i]).length,A.x1=+w[b-2],A.y1=+w[b-1],A.x2=+w[b-4]||A.x1,A.y2=+w[b-3]||A.y1,k={s:l[i],c:l[i][0]},"Z"!==C&&(k.x=A.x1,k.y=A.y1),q=q.concat(k);return p(q=q.map((function(t){var r,e,i;switch(C=t.c,w=t.s,C){case"A":return h=function(t,r,e,n){var a=Math.cos(n*Math.PI/180),i=Math.sin(n*Math.PI/180),s=[r*(t[0]*a+t[2]*i),r*(t[1]*a+t[3]*i),e*(-t[0]*i+t[2]*a),e*(-t[1]*i+t[3]*a)],m=s[0]*s[0]+s[2]*s[2],u=s[1]*s[1]+s[3]*s[3],c=((s[0]-s[3])*(s[0]-s[3])+(s[2]+s[1])*(s[2]+s[1]))*((s[0]+s[3])*(s[0]+s[3])+(s[2]-s[1])*(s[2]-s[1])),o=(m+u)/2;if(c<1e-9*o){var h=Math.sqrt(o);return{rx:h,ry:h,ax:0}}var l,f,p=s[0]*s[1]+s[2]*s[3],y=o+(c=Math.sqrt(c))/2,x=o-c/2,v=Math.abs(p)<1e-9&&Math.abs(y-u)<1e-9?90:Math.atan(Math.abs(p)>Math.abs(y-u)?(y-m)/p:p/(y-u)*180)/Math.PI;return v>=0?(l=Math.sqrt(y),f=Math.sqrt(x)):(v+=90,l=Math.sqrt(x),f=Math.sqrt(y)),{rx:l,ry:f,ax:v}}(g,w[1],w[2],w[3]),g[0]*g[3]-g[1]*g[2]<0&&(w[5]=+w[5]?0:1),r=tt(v,[w[6],w[7]],M),c=r[0],o=r[1],w=n===c&&a===o||h.rx<1e-9*h.ry||h.ry<1e-9*h.rx?["L",c,o]:[C,h.rx,h.ry,h.ax,w[4],w[5],c,o],n=c,a=o,w;case"L":case"H":case"V":return e=tt(v,[t.x,t.y],M),c=e[0],o=e[1],n!==c&&a!==o?w=["L",c,o]:a===o?w=["H",c]:n===c&&(w=["V",o]),n=c,a=o,w;default:for(s=1,u=w.length;s<u;s+=2)i=tt(v,[w[s],w[s+1]],M),n=i[0],a=i[1],w[s]=n,w[s+1]=a;return w}})),e)}return f(l)}var et={CSSMatrix:l,parsePathString:k,isPathArray:v,isCurveArray:d,isAbsoluteArray:P,isRelativeArray:U,isNormalizedArray:N,pathToAbsolute:I,pathToRelative:J,pathToCurve:E,pathToString:F,getDrawDirection:function(t,r){return X(E(t,r))>=0},getPathArea:X,getPathBBox:G,getPathLength:function(t,r){var e=0;return E(t,r).forEach((function(t,r,n){e+="M"!==t[0]?Y.apply(0,n[r-1].slice(-2).concat(t.slice(1))):0})),e},getPointAtLength:function(t,r){var e,n,a=0;return E(t,9).map((function(t,i,s){return n=i?s[i-1].slice(-2).concat(t.slice(1)):t.slice(1),e=i?Y.apply(0,n):0,a+=e,0===i?{x:n[0],y:n[1]}:a>r&&r>a-e?D.apply(0,n.concat(1-(a-r)/e)):null})).filter((function(t){return t})).slice(-1)[0]},clonePath:f,splitPath:$,roundPath:p,optimizePath:K,reverseCurve:function(t){var r=t.slice(1).map((function(r,e,n){return e?n[e-1].slice(-2).concat(r.slice(1)):t[0].slice(1).concat(r.slice(1))})).map((function(t){return t.map((function(r,e){return t[t.length-e-2*(1-e%2)]}))})).reverse();return[["M"].concat(r[0].slice(0,2))].concat(r.map((function(t){return["C"].concat(t.slice(2))})))},reversePath:W,normalizePath:T,transformPath:rt,getSVGMatrix:_,options:t},nt=function(r,e){var n=e||{},a=0==+n.round||!1===n.round?0:t.round,i=a&&(n.decimals||t.decimals),s=n.origin,m=k(r,this.round);return this.round=0===a?0:i,this.origin=!s||Number.isNaN(s.x)||Number.isNaN(s.y)?null:s,this.segments=f(m),this.pathValue=r,this},at=nt.prototype;return at.toAbsolute=function(){var t=I(this.segments,this.round);return this.segments=f(t),this},at.toRelative=function(){var t=J(this.segments,this.round);return this.segments=f(t),this},at.reverse=function(t){this.toAbsolute();var r=$(this.pathValue).length>1&&$(this.toString()),e=r&&f(r).map((function(r,e){return t?e?W(r):k(r):W(r)})),n=[];return n=r?e.flat(1):t?this.segments:W(this.segments,this.round),this.segments=f(n),this},at.normalize=function(){var t=T(this.segments,this.round);return this.segments=f(t),this},at.optimize=function(){var t=K(this.segments,this.round);return this.segments=f(t),this},at.transform=function(t){var r=t||{};if(!r.origin){var e=G(this.segments);r.origin=[e.cx,e.cy,e.cx]}var n=rt(this.segments,r,this.round);return this.segments=f(n),this},at.flipX=function(){return this.transform({rotate:[180,0,0]}),this},at.flipY=function(){return this.transform({rotate:[0,180,0]}),this},at.toString=function(){return F(this.segments)},Object.keys(et).forEach((function(t){nt[t]=et[t]})),nt}));
